{"version":3,"sources":["Photos/components/ImageGalleryItem/ImageGalleryItem.module.css","Photos/components/Button/Button.module.css","Photos/components/Modal/Modal.module.css","Photos/components/Searchbar/Searchbar.module.css","Photos/components/ImageGallery/ImageGallery.module.css","Photos/components/Loader/Loader.module.css","Photos/components/SearchForm /SearchForm.module.css","Photos/components/SearchForm /SearchForm .jsx","Photos/components/Searchbar/Searchbar.jsx","Photos/components/ImageGalleryItem/ImageGalleryItem.jsx","Photos/components/ImageGallery/ImageGallery.jsx","Photos/components/Button/Button.jsx","Photos/components/Modal/Modal.jsx","Photos/components/Loader/Loader.jsx","Photos/components/shared/services/pictures.js","Photos/components/Photos/Photos.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchForm","state","query","handleChange","evt","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","type","SearchForm_button","SearchForm_button_label","onChange","name","SearchForm_input","autoComplete","autoFocus","placeholder","Component","Searchbar","ImageGalleryItem","webformatURL","largeImageURL","openModal","onClick","src","alt","ImageGalleryItem_image","ImageGallery","list","children","listElements","map","item","id","Button","container","modalRooot","document","querySelector","Modal","closeModal","createPortal","Overlay","LoaderComponent","loader","color","height","width","timeout","instance","axios","create","baseURL","params","key","image_type","orientation","Photos","pictures","page","limit","isLoading","more","error","showModal","listRef","createRef","searchPictures","loadMore","e","handleKeyDown","code","fetchPictures","window","addEventListener","prevProps","prevState","length","current","scrollHeight","snapshot","scrollTo","top","behavior","removeEventListener","get","q","getPagePictures","then","data","hits","catch","finally","ref","Loader","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.82bb23db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1x1h-\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2plss\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__BEnbP\",\"Button\":\"Button_Button__3ru2P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1HHiq\",\"Modal\":\"Modal_Modal__2_3aN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ww6m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3EN-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3j4nZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__3mA0Z\",\"SearchForm_button\":\"SearchForm_SearchForm_button__3MYWC\",\"SearchForm_button_label\":\"SearchForm_SearchForm_button_label__121Dp\",\"SearchForm_input\":\"SearchForm_SearchForm_input__1s4xy\"};","import {Component} from 'react';\nimport styles from './SearchForm.module.css'\n\n\nclass SearchForm extends Component {\n    \n  state = {\n     query: \"\"\n  }\n  \n  handleChange = (evt) => {\n    this.setState({ query: evt.target.value})\n  }\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n    this.props.onSubmit(this.state.query);\n\n    this.setState({query:''})\n  }\n\n  render() {\n    const { handleChange, handleSubmit } = this;\n    return (\n    <form className={styles.SearchForm} onSubmit={handleSubmit}>\n    <button type=\"submit\" className={styles.SearchForm_button}>\n     <span className={styles.SearchForm_button_label}>Search</span>\n    </button>\n\n      <input\n      onChange={handleChange}\n      name=\"query\"\n      value={this.state.query}\n      className={styles.SearchForm_input}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n    />\n  </form>\n)\n    }\n   \n}\n    \n\nexport default SearchForm ;\n","import React from 'react';\nimport styles from './Searchbar.module.css'\nimport SearchForm from '../SearchForm ';\n\nconst Searchbar = ({onSubmit}) => {\n    return (\n      <header className={styles.Searchbar}>\n        <SearchForm onSubmit={onSubmit}/>\n      </header>\n    )\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({webformatURL, largeImageURL, openModal}) => {\n    return (\n        <li className={styles.ImageGalleryItem} onClick={()=>openModal(largeImageURL)}>\n            <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItem_image} />\n        </li>\n    )\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css'\n\nconst ImageGallery = ({ list, openModal, children }) => {\n    const listElements = list.map((item) => <ImageGalleryItem key={item.id} openModal={openModal} {...item} />)\n    return (\n        <ul className={styles.ImageGallery}>\n            {listElements}\n            {children}\n       </ul>\n    )\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './Button.module.css'\n\nconst Button = ({onClick}) => {\n    return (\n      <div className={styles.container}>  <button type=\"button\" className={styles.Button} onClick={onClick}>Load more</button> </div>\n    )\n};\n\nexport default Button;\n","import React from 'react';\nimport {createPortal} from 'react-dom'\nimport styles from './Modal.module.css'\n\nconst modalRooot = document.querySelector('#modal-root')\n\nconst Modal = ({children, closeModal}) => {\n    return (\n      createPortal(<div onClick={closeModal}  className={styles.Overlay}>\n     <div className={styles.Modal}>\n          {children}\n        </div>\n      </div>,modalRooot)\n  )\n};\n\nexport default Modal;\n  ","import React from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport styles from './Loader.module.css'\n\n\nconst LoaderComponent = () => {\n  return ( <Loader className={styles.loader}\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={500} \n      /> );\n}\n \nexport default LoaderComponent;\n\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://pixabay.com/api\",\n  params: {\n    key: \"20944860-c17ba5e7d5700a2a7880c4ee2\",\n    image_type: \"photo\",\n    orientation:\"horizontal\"\n  }\n});\n\nexport const getPagePictures = ({ query = \"\", page, limit }) => {\n\n  return instance.get(\"/\", {\n    params: {\n      q:query,\n      page,\n      limit\n}})\n}\n\n\n","import { Component, createRef } from 'react';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Modal from '../Modal';\nimport Loader from \"../Loader\";\nimport { getPagePictures } from '../shared/services/pictures.js';\n\n\nclass Photos extends Component {\n   state = {\n        pictures: [],\n        page: 1,\n        limit: 12,\n        isLoading: false,\n        query: '',\n        \n        more:false,\n        error: null,\n        showModal: false,\n        largeImageURL: \"\"\n   }\n\n    listRef = createRef()\n    \n    componentDidMount() {\n        this.fetchPictures();\n\n        window.addEventListener('keydown',this.handleKeyDown)\n    }\n    \n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (prevState.pictures.length < this.state.pictures.length) {\n            const { current } = this.listRef;\n            return current.scrollHeight\n\n        }\n        return null\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {isLoading} = this.state;\n        if (isLoading) {\n            this.fetchPictures();\n        }\n\n        if (snapshot !== null) {\n                window.scrollTo({\n                    top: snapshot,\n                    behavior: \"smooth\"\n                });\n        } \n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown',this.handleKeyDown)\n    }\n\n    searchPictures = (query) => {\n        this.setState({\n            pictures: [],\n            isLoading: true,\n            query\n        })\n    }\n\n    fetchPictures() {\n        const { page, limit, query, more } = this.state;\n\n        const picturesRequest = getPagePictures({ page, limit, query });\n        \n\n        picturesRequest\n            .then(({ data }) => this.setState(({ pictures }) => {\n                \n                const newPictures = more ? [...pictures, ...data.hits] : data.hits;\n\n                return {\n                    pictures: newPictures,\n                    isLoading: false,\n                }\n            }))\n            .catch(error => this.setState({\n                error,\n                isLoading: false,\n            }))\n            .finally(() => this.setState({isLoading: false}))\n    }\n\n    loadMore = (e) => {\n        e.preventDefault();\n        this.setState(({ page }) => {\n            return {\n                isLoading: true,\n                page: page + 1,\n                more: true\n            }\n        })\n        \n    }\n\n    openModal = (largeImageURL) => {\n        this.setState(({showModal}) => ({\n            showModal: !showModal,\n            largeImageURL\n        }))\n    }    \n\n    closeModal = () => {\n        this.setState({showModal: false})\n    }\n\n     handleKeyDown = (e) => {\n            if (e.code === 'Escape') {\n                this.closeModal();\n            }\n    }\n   \n\n    render() {\n      \n        const { pictures, isLoading, error, showModal, largeImageURL} = this.state;\n        const { listRef, searchPictures,loadMore, openModal, closeModal} = this;\n    \n    return (\n        <div className=\"Photos\">\n       {showModal && <Modal closeModal={closeModal}> <img src={largeImageURL} alt=\"\"/></Modal>} \n        <Searchbar onSubmit={searchPictures} />\n            \n            \n        <div ref={listRef}><ImageGallery openModal={openModal} list={pictures}><Loader/></ImageGallery> </div> \n            \n        {error && <p>Something was wrong ...</p>}\n        {isLoading && !error && <Loader />}\n        <Button onClick={loadMore}/>\n    </div>\n  );\n  }\n};\n\nexport default Photos;\n","import './App.css';\nimport React from \"react\";\nimport Photos from './Photos/components/Photos';\n\n\nconst App = () => {\n\n    return (\n      <div className=\"App\">\n        <Photos/>\n      </div>\n    )\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}